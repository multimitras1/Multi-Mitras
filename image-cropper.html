<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Cropper — KathaByte Tools</title>

<!-- Cropper.js library -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>

<style>
:root{
  --bg1:#eaf6ff;
  --blue-deep:#0d47a1;
  --blue-mid:#0077d6;
  --accent:#00c3ff;
  --card-radius:14px;
  --text-dark:#042a4a;
  --glass: rgba(255,255,255,0.88);
}
*{box-sizing:border-box;}
body{
  margin:0;
  min-height:100vh;
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  background: radial-gradient(1200px 600px at 10% 10%, rgba(0,195,255,0.06), transparent),
              linear-gradient(135deg,#e6f4ff 0%, #ffffff 60%);
  color:var(--text-dark);
  display:flex;
  align-items:start;
  justify-content:center;
  padding:20px;
}
.wrap{
  width:100%;
  max-width:1100px;
  display:grid;
  grid-template-columns:1fr 320px;
  gap:18px;
  align-items:start;
}
.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.94), rgba(255,255,255,0.90));
  border-radius:var(--card-radius);
  padding:16px;
  box-shadow:0 10px 30px rgba(3,54,120,0.06);
  border:1px solid rgba(13,71,161,0.06);
}
header.card{
  grid-column:1/-1;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
h1{margin:0;font-size:18px;color:var(--blue-deep);display:flex;gap:10px;align-items:center;}
p.lead{margin:6px 0 0;color:#0b4b72;font-size:13px;}

.uploader{
  border-radius:10px;
  padding:18px;
  background: linear-gradient(180deg, rgba(13,71,161,0.03), rgba(13,71,161,0.015));
  border:1px dashed rgba(13,71,161,0.06);
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
  justify-content:center;
  min-height:180px;
}
.drop{
  width:100%;
  padding:16px;
  border-radius:10px;
  text-align:center;
  cursor:pointer;
  background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.98));
  box-shadow:0 6px 18px rgba(0,195,255,0.04);
  border:1px solid rgba(13,71,161,0.04);
}
.drop input{display:none;}
.small{font-size:13px;color:#0b4b72;}

.crop-container{width:100%;max-height:500px;background:#f4faff;display:flex;align-items:center;justify-content:center;overflow:hidden;margin-top:12px;border-radius:12px;border:1px solid rgba(13,71,161,0.06);}
.crop-container img{max-width:100%;display:block;}

.row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;}
button.primary{background:linear-gradient(90deg,var(--accent),var(--blue-mid));color:#fff;border:none;cursor:pointer;font-weight:700;}
button.ghost{background:transparent;border:1px dashed rgba(13,71,161,0.06);color:var(--blue-mid);cursor:pointer;}

.right-col{display:flex;flex-direction:column;gap:12px;}
.ad-slot{margin:12px 0;text-align:center;}
footer{grid-column:1/-1;margin-top:6px;font-size:12px;color:#0b4b72;text-align:center;}
@media(max-width:1000px){.wrap{grid-template-columns:1fr}.right-col{order:-1}}
</style>
</head>
<body>
<div class="wrap">

<header class="card">
  <div>
    <h1>✂️ Image Cropper</h1>
    <p class="lead">Crop images in-browser with drag & aspect ratio control.</p>
  </div>
  <div style="min-width:220px;text-align:right">
    <!-- Top Banner Ad (728x90) -->
    <div class="ad-slot">
      <script type="text/javascript">
        atOptions = {'key':'a4236a38fef8b51c08a860f7e29b1a32','format':'iframe','height':90,'width':728,'params':{}};
      </script>
      <script type="text/javascript" src="//lightingshovestature.com/a4236a38fef8b51c08a860f7e29b1a32/invoke.js"></script>
    </div>
  </div>
</header>

<section class="card">
  <div class="uploader" id="uploader">
    <div class="drop" id="dropzone">
      <input type="file" id="fileInput" accept="image/*">
      <div style="font-weight:700;color:var(--blue-deep)">Click or Drop an image here</div>
      <div class="small">Supported: JPEG, PNG, WebP</div>
    </div>
  </div>

  <div class="crop-container">
    <img id="cropImage" src="" alt="Upload image to crop" style="display:none;">
  </div>

  <div class="row">
    <button class="primary" id="cropBtn">Crop & Download</button>
    <label class="small"><input type="checkbox" id="maintainRatio" checked> Maintain aspect ratio</label>
  </div>

  <!-- Middle Ad (300x250) -->
  <div class="ad-slot">
    <script type="text/javascript">
      atOptions = {'key':'8a02d9520d2faa074d27d1b1582d7bf6','format':'iframe','height':250,'width':300,'params':{}};
    </script>
    <script type="text/javascript" src="//lightingshovestature.com/8a02d9520d2faa074d27d1b1582d7bf6/invoke.js"></script>
  </div>
</section>

<aside class="card right-col">
  <!-- Side ad (160x300) -->
  <div class="ad-slot">
    <script type="text/javascript">
      atOptions = {'key':'962ff242b01ed125eb9b14423f7dbd3f','format':'iframe','height':300,'width':160,'params':{}};
    </script>
    <script type="text/javascript" src="//lightingshovestature.com/962ff242b01ed125eb9b14423f7dbd3f/invoke.js"></script>
  </div>
  <!-- Bottom small banner (468x60) -->
  <div class="ad-slot">
    <script type="text/javascript">
      atOptions = {'key':'496188380e746eef901d9058c8f77c85','format':'iframe','height':60,'width':468,'params':{}};
    </script>
    <script type="text/javascript" src="//lightingshovestature.com/496188380e746eef901d9058c8f77c85/invoke.js"></script>
  </div>
</aside>

<footer class="card">
  Image Cropper • Client-side cropping — no upload to server required.
</footer>
</div>

<script>
const fileInput=document.getElementById('fileInput');
const cropImage=document.getElementById('cropImage');
const cropBtn=document.getElementById('cropBtn');
const maintainRatio=document.getElementById('maintainRatio');
let cropper=null;

fileInput.addEventListener('change',e=>{
  const file=e.target.files[0];
  if(!file) return;
  const url=URL.createObjectURL(file);
  cropImage.src=url;
  cropImage.style.display='block';
  if(cropper) cropper.destroy();
  cropper=new Cropper(cropImage,{
    aspectRatio: maintainRatio.checked ? 1 : NaN,
    viewMode:1,
    autoCropArea:0.8,
    movable:true,
    zoomable:true,
    responsive:true,
    background:true,
  });
});

maintainRatio.addEventListener('change',()=>{
  if(cropper) cropper.setAspectRatio(maintainRatio.checked ? 1 : NaN);
});

cropBtn.addEventListener('click',()=>{
  if(!cropper){alert('Upload an image first');return;}
  const canvas=cropper.getCroppedCanvas();
  canvas.toBlob(blob=>{
    const a=document.createElement('a');
    a.href=URL.createObjectURL(blob);
    a.download='cropped-image.png';
    document.body.appendChild(a);
    a.click();
    setTimeout(()=>{URL.revokeObjectURL(a.href);a.remove();},5000);
  },'image/png');
});
</script>
</body>
</html>
